"use strict";(self.webpackChunk_1000goals_frontend=self.webpackChunk_1000goals_frontend||[]).push([[883],{5883:(Z,u,a)=>{a.r(u),a.d(u,{UserComponent:()=>M});var l=a(4755),m=a(774),e=a(1902);let p=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-nav-menu-btn"]],standalone:!0,features:[e.jDz],decls:1,vars:0,consts:[[1,"nav-menu-btn"]],template:function(t,o){1&t&&e._UZ(0,"div",0)},dependencies:[l.ez],styles:['[_nghost-%COMP%]{align-self:center}.btn[_ngcontent-%COMP%], .nav-menu-btn[_ngcontent-%COMP%]:after, .nav-menu-btn[_ngcontent-%COMP%]:before, .nav-menu-btn[_ngcontent-%COMP%]{background-color:#fff;height:.2rem;width:3rem}.nav-menu-btn[_ngcontent-%COMP%]{-webkit-appearance:unset;appearance:unset;position:relative}.nav-menu-btn[_ngcontent-%COMP%]:before{top:-1rem;position:absolute;content:""}.nav-menu-btn[_ngcontent-%COMP%]:after{content:"";top:1rem;position:absolute}']}),n})(),d=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-close-btn"]],standalone:!0,features:[e.jDz],decls:1,vars:0,consts:[[1,"close"]],template:function(t,o){1&t&&e._UZ(0,"div",0)},dependencies:[l.ez],styles:['[_nghost-%COMP%]{width:5rem;height:5rem}@media only screen and (max-width: 920px){[_nghost-%COMP%]{width:3.5rem;height:3.5rem}}.line[_ngcontent-%COMP%], .close[_ngcontent-%COMP%]:after, .close[_ngcontent-%COMP%]:before{background-color:#fff;display:block}.close[_ngcontent-%COMP%]{position:relative;width:5rem;height:5rem;background-color:transparent;display:flex;align-items:center;transform:rotate(45deg);transform-origin:center}@media only screen and (max-width: 920px){.close[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem}}.close[_ngcontent-%COMP%]:before{width:5rem;height:.2rem;content:"";transform-origin:center}@media only screen and (max-width: 920px){.close[_ngcontent-%COMP%]:before{width:3.5rem}}.close[_ngcontent-%COMP%]:after{width:.2rem;height:5rem;content:"";position:absolute;inset:0;margin:auto}@media only screen and (max-width: 920px){.close[_ngcontent-%COMP%]:after{height:3.5rem}}']}),n})();var s=a(8386),g=a(3071);let h=(()=>{class n{constructor(t){this.userService=t}logout(){this.userService.clearUser()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(g.K))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var c=a(1591);let v=(()=>{class n{constructor(){this.router=(0,e.f3M)(m.F0),this.logoutService=(0,e.f3M)(h),this.menuState=new e.vpe}close(){this.menuState.emit(!1)}navigateTo(t){this.menuState.emit(!1),this.router.navigateByUrl(t)}logout(){this.logoutService.logout(),this.navigateTo(this.linkToHome)}get linkToUserHome(){return"/"+s.Z.user.base}get linkToHome(){return"/"+s.Z.home.base}get linkToGoals(){return"/"+s.Z.user.base+"/"+s.Z.user.goals}get linkToProposed(){return"/"+s.Z.user.base+"/"+s.Z.user.proposed}get linkToLeaderboard(){return"/"+s.Z.user.base+"/"+s.Z.user.leaderboard}get linkToMembers(){return"/"+s.Z.user.base+"/"+s.Z.user.players}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-menu"]],outputs:{menuState:"menuState"},standalone:!0,features:[e.jDz],decls:36,vars:1,consts:[[1,"menu"],[3,"click"],[1,"menu-header"],[1,"logo"],[0,"xlink","href","assets/logos/logo.svg#logo"],[1,"menu-body"],[1,"menu-item",3,"click"],[1,"icon"],[0,"xlink","href","assets/icons/menuicons.svg#icon-home"],[1,"icon-title"],["aria-label","goals-button",1,"menu-item",3,"click"],[0,"xlink","href","assets/icons/menuicons.svg#icon-key"],[0,"xlink","href","assets/icons/menuicons.svg#icon-heart"],[0,"xlink","href","assets/icons/menuicons.svg#icon-trophy"],[0,"xlink","href","assets/icons/menuicons.svg#icon-users"],[0,"xlink","href","assets/icons/menuicons.svg#icon-lock"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"app-close-btn",1),e.NdJ("click",function(){return o.close()}),e.qZA(),e.TgZ(2,"div",2),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"use",4),e.qZA()(),e.kcU(),e.TgZ(5,"div",5)(6,"div",6),e.NdJ("click",function(){return o.navigateTo(o.linkToUserHome)}),e.O4$(),e.TgZ(7,"svg",7),e._UZ(8,"use",8),e.qZA(),e.kcU(),e.TgZ(9,"span",9),e._uU(10,"Home"),e.qZA()(),e.TgZ(11,"div",10),e.NdJ("click",function(){return o.navigateTo(o.linkToGoals)}),e.O4$(),e.TgZ(12,"svg",7),e._UZ(13,"use",11),e.qZA(),e.kcU(),e.TgZ(14,"span",9),e._uU(15,"Goals"),e.qZA()(),e.TgZ(16,"div",6),e.NdJ("click",function(){return o.navigateTo(o.linkToProposed)}),e.O4$(),e.TgZ(17,"svg",7),e._UZ(18,"use",12),e.qZA(),e.kcU(),e.TgZ(19,"span",9),e._uU(20,"Proposed Goals"),e.qZA()(),e.TgZ(21,"div",6),e.NdJ("click",function(){return o.navigateTo(o.linkToLeaderboard)}),e.O4$(),e.TgZ(22,"svg",7),e._UZ(23,"use",13),e.qZA(),e.kcU(),e.TgZ(24,"span",9),e._uU(25,"Leaderboard"),e.qZA()(),e.TgZ(26,"div",6),e.NdJ("click",function(){return o.navigateTo(o.linkToMembers)}),e.O4$(),e.TgZ(27,"svg",7),e._UZ(28,"use",14),e.qZA(),e.kcU(),e.TgZ(29,"span",9),e._uU(30,"Members"),e.qZA()(),e.TgZ(31,"div",6),e.NdJ("click",function(){return o.logout()}),e.O4$(),e.TgZ(32,"svg",7),e._UZ(33,"use",15),e.qZA(),e.kcU(),e.TgZ(34,"span",9),e._uU(35,"Logout"),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("@cardsAnimation",!0))},dependencies:[l.ez,d,m.Bz],styles:["[_nghost-%COMP%]{position:absolute;inset:0;z-index:10;height:100vh}.menu[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);height:100%;position:relative}.menu-header[_ngcontent-%COMP%]{padding-top:3rem;padding-bottom:2rem}.logo[_ngcontent-%COMP%]{height:var(--user-menu-header-height);width:var(--user-menu-header-height);margin:auto;display:block}@media only screen and (orientation: landscape) and (max-width: 920px){.logo[_ngcontent-%COMP%]{height:calc(var(--user-menu-header-height) * .6);width:calc(var(--user-menu-header-height) * .6)}}.menu-body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;padding:1rem 4rem 4rem;gap:4rem}@media only screen and (orientation: landscape) and (max-width: 920px){.menu-body[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr;padding:2rem;gap:2rem}}app-close-btn[_ngcontent-%COMP%]{position:absolute;right:2rem;top:2rem}.menu-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem;color:var(--primary-alt);padding-block:4rem;background:rgba(255,255,255,0);box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(6.9px);-webkit-backdrop-filter:blur(6.9px);box-shadow:inset 0 0 15px 1px #cacacac7;border:1px solid rgba(202,202,202,.24);border-radius:var(--border-radius)}@media only screen and (orientation: landscape) and (max-width: 920px){.menu-item[_ngcontent-%COMP%]{padding-block:1.5rem}}.menu-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{fill:var(--primary-alt);width:5rem;height:5rem;cursor:pointer}@media only screen and (orientation: landscape) and (max-width: 920px){.menu-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem}}.menu-item[_ngcontent-%COMP%]   .icon-title[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}.full-row[_ngcontent-%COMP%]{grid-column:1/-1}.logout-section[_ngcontent-%COMP%]{padding-top:4rem}.link[_ngcontent-%COMP%]{all:unset}"],data:{animation:[(0,c.X$)("cardsAnimation",[(0,c.eR)(":enter",[(0,c.IO)(".menu-item",[(0,c.oB)({opacity:0,transform:"scale(0)"}),(0,c.EY)(100,[(0,c.jt)(200,(0,c.oB)({opacity:1,transform:"scale(1)"}))])])])])]}}),n})();function f(n,r){1&n&&(e.O4$(),e.TgZ(0,"svg",8),e._UZ(1,"path",9),e.qZA())}function _(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-user-menu",10),e.NdJ("menuState",function(i){e.CHM(t);const b=e.oxw();return e.KtG(b.openMenu=i)}),e.qZA()}}let C=(()=>{class n{constructor(t){this.userService=t,this.openMenu=!1}onClickOpen(){this.openMenu=!this.openMenu}get name(){return this.userService.getUserData()?.user?.name||"not-logged-in"}onClickRefresh(){this.userService.refreshGame()?.subscribe(t=>{t?.data&&t.data?.game&&this.userService.patchUserData(o=>(o.game=t.data.game,o))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-nav"]],standalone:!0,features:[e.jDz],decls:9,vars:2,consts:[[1,"user-nav"],[1,"logo"],[0,"xlink","href","assets/logos/logo.svg#logo"],[1,"menu-btn"],["aria-label","refresh-button",1,"btn-container",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","40","height","40","class","refresh",4,"ngIf"],[1,"btn-container",3,"click"],[3,"menuState",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","40","height","40",1,"refresh"],["d","M12.979 3.055c4.508.489 8.021 4.306 8.021 8.945.001 2.698-1.194 5.113-3.075 6.763l-1.633-1.245c1.645-1.282 2.709-3.276 2.708-5.518 0-3.527-2.624-6.445-6.021-6.923v2.923l-5.25-4 5.25-4v3.055zm-1.979 15.865c-3.387-.486-6-3.401-6.001-6.92 0-2.237 1.061-4.228 2.697-5.509l-1.631-1.245c-1.876 1.65-3.066 4.061-3.065 6.754-.001 4.632 3.502 8.444 8 8.942v3.058l5.25-4-5.25-4v2.92z"],[3,"menuState"]],template:function(t,o){1&t&&(e.TgZ(0,"nav",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"use",2),e.qZA(),e.kcU(),e.TgZ(3,"div",3)(4,"div",4),e.NdJ("click",function(){return o.onClickRefresh()}),e.YNc(5,f,2,0,"svg",5),e.qZA(),e.TgZ(6,"div",6),e.NdJ("click",function(){return o.openMenu=!0}),e._UZ(7,"app-nav-menu-btn"),e.qZA()()(),e.YNc(8,_,1,0,"app-user-menu",7)),2&t&&(e.xp6(5),e.Q6J("ngIf",!o.openMenu),e.xp6(3),e.Q6J("ngIf",o.openMenu))},dependencies:[l.ez,l.O5,p,v],styles:["[_nghost-%COMP%]{width:100%}.user-nav[_ngcontent-%COMP%]{display:flex;gap:1rem;position:relative;z-index:2;align-items:center;width:100%;justify-content:space-between}.logo[_ngcontent-%COMP%]{height:5rem;width:5rem}.logout[_ngcontent-%COMP%]{fill:#fff}.title[_ngcontent-%COMP%]{flex:1;font-size:3rem;display:flex;align-items:center}.menu-btn[_ngcontent-%COMP%]{display:flex;height:6rem;align-items:center;gap:4rem}.btn-container[_ngcontent-%COMP%]{height:6rem;width:6rem;display:flex;justify-content:center;align-items:center}.refresh[_ngcontent-%COMP%]{filter:invert(1);transition:1s transform ease-in}"]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user"]],standalone:!0,features:[e.jDz],decls:4,vars:0,template:function(t,o){1&t&&(e.TgZ(0,"header"),e._UZ(1,"app-user-nav"),e.qZA(),e.TgZ(2,"main"),e._UZ(3,"router-outlet"),e.qZA())},dependencies:[l.ez,m.Bz,m.lC,C],styles:["header[_ngcontent-%COMP%]{position:sticky;height:var(--user-nav-height);top:0;background-color:var(--user-nav-bg-color);z-index:2;display:flex;align-items:center}main[_ngcontent-%COMP%]{position:relative;padding:3.5rem .6rem 4rem;z-index:1}"]}),n})()}}]);