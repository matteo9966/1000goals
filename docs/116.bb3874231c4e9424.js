"use strict";(self.webpackChunk_1000goals_frontend=self.webpackChunk_1000goals_frontend||[]).push([[116],{1354:(C,u,i)=>{i.d(u,{r:()=>h});var g=i(4755),o=i(1902);const f=["*"];let h=(()=>{class a{constructor(){this.disabled=!1,this.type="button"}}return a.\u0275fac=function(r){return new(r||a)},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-button"]],inputs:{disabled:"disabled",type:"type"},standalone:!0,features:[o.jDz],ngContentSelectors:f,decls:2,vars:2,consts:[[1,"primary",3,"disabled","type"]],template:function(r,m){1&r&&(o.F$t(),o.TgZ(0,"button",0),o.Hsn(1),o.qZA()),2&r&&o.Q6J("disabled",m.disabled)("type",m.type)},dependencies:[g.ez],styles:[".primary[_ngcontent-%COMP%]{font-weight:400;position:relative;outline:none;display:flex;justify-content:center;align-items:center;cursor:pointer;height:45px;opacity:1;padding:.5rem 1.2rem;color:var(--primary-alt);font-family:Caveat,cursive;font-family:Nova Mono,monospace;font-size:3rem;background:rgba(255,255,255,0);box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(6.9px);-webkit-backdrop-filter:blur(6.9px);box-shadow:inset 0 0 15px 1px #cacacac7;border:1px solid rgba(202,202,202,.24);border-radius:var(--border-radius);border:var(--border-primary)}.primary[_ngcontent-%COMP%]:disabled{color:var(--border-primary-color)}"]}),a})()},5497:(C,u,i)=>{i.r(u),i.d(u,{UserDetailsComponent:()=>y,userDetailsUtils:()=>v});var g=i(4755),o=i(9836),f=i(7135),h=i(3349),a=i(8386),e=i(1902),r=i(3071);function m(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"span",13),e._uU(1),e.TgZ(2,"img",14,15),e.NdJ("click",function(){e.CHM(t);const p=e.oxw(2);return e.KtG(p.clickCopyLoginLink())}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij("Copy Login Link for ",t.username," ")}}function P(n,l){if(1&n&&(e.TgZ(0,"div",4),e.YNc(1,m,4,1,"span",12),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.tempPassword)}}let y=(()=>{class n{constructor(t,s){this.userService=t,this.pagesBase=s,this.selectedList="goals",this.list=[],this.showLinkCopiedMessage=!1,this.timeoutIDLinkCopy=null,this.id=null}ngOnInit(){this.list=v.setList("goals",this.id,this.userService.getUserData())}get points(){return this.userService.getUserData()&&this.id?(0,f.X)(this.userService.getUserData(),this.id):0}get username(){return this.userService.getUserData()?.game?.players?.find(t=>t.id===this.id)?.name||"no username"}get tempPassword(){return this.userService.isAdmin()?this.userService.getUserData()?.game?.players?.find(t=>t.id===this.id)?.tempPassword||"":"\u25cf \u25cf \u25cf \u25cf \u25cf \u25cf \u25cf \u25cf \u25cf \u25cf \u25cf"}clickList(t){t!==this.selectedList&&(this.selectedList=t,this.list=v.setList(this.selectedList,this.id,this.userService.getUserData()))}clickCopyLoginLink(){this.showLinkCopiedMessage=!0;const t=new URLSearchParams({username:this.username,password:this.tempPassword});navigator.clipboard.writeText(`${this.pagesBase}/${a.Z.home.base}/${a.Z.home.login}?${t}`),this.timeoutIDLinkCopy&&clearTimeout(this.timeoutIDLinkCopy),this.timeoutIDLinkCopy=setTimeout(()=>{this.showLinkCopiedMessage=!1},2e3)}get isAdmin(){return this.userService.isAdmin()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(r.K),e.Y36(h.hf))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-details"]],inputs:{id:"id"},standalone:!0,features:[e.jDz],decls:19,vars:9,consts:[[1,"details"],[1,"points-container"],[1,"points-label"],[1,"points"],[1,"detail"],[1,"detail-label"],["aria-label","username",1,"detail-value"],["class","detail",4,"ngIf"],[1,"buttons-and-list-container"],[1,"goals-and-proposed-buttons"],[1,"button",3,"click"],[3,"list","withAction"],["class","detail-label copy-clipboard",4,"ngIf"],[1,"detail-label","copy-clipboard"],["src","assets/icons/clipboard.svg","alt","copy to clipboard",1,"clipboard-image",3,"click"],["copyclipboard",""]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e._uU(3,"Points"),e.qZA(),e.TgZ(4,"span",3),e._uU(5),e.qZA()(),e.TgZ(6,"div",4)(7,"span",5),e._uU(8,"Name"),e.qZA(),e.TgZ(9,"span",6),e._uU(10),e.qZA()(),e.YNc(11,P,2,1,"div",7),e.qZA(),e.TgZ(12,"div",8)(13,"div",9)(14,"span",10),e.NdJ("click",function(){return s.clickList("goals")}),e._uU(15,"Goals"),e.qZA(),e.TgZ(16,"span",10),e.NdJ("click",function(){return s.clickList("proposed")}),e._uU(17,"Proposed"),e.qZA()(),e._UZ(18,"app-goal-list",11),e.qZA()),2&t&&(e.xp6(5),e.Oqu(s.points),e.xp6(5),e.Oqu(s.username),e.xp6(1),e.Q6J("ngIf",s.isAdmin),e.xp6(3),e.ekj("active","goals"===s.selectedList),e.xp6(2),e.ekj("active","proposed"===s.selectedList),e.xp6(2),e.Q6J("list",s.list)("withAction",!1))},dependencies:[g.ez,g.O5,o.e],styles:[".details[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;gap:2rem}.detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.points-container[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:0;outline:1px solid var(--border-primary-color);border-radius:var(--border-radius);display:flex;flex-direction:column;align-items:center;padding:.2rem;gap:.5rem}.points-container[_ngcontent-%COMP%]   .points-label[_ngcontent-%COMP%]{font-size:1.2rem;white-space:nowrap}.points-container[_ngcontent-%COMP%]   .points[_ngcontent-%COMP%]{font-size:1.5rem}.detail-label[_ngcontent-%COMP%]{font-size:1.5rem;font-size:1.2rem;white-space:nowrap;color:var(--border-primary-color)}.detail-value[_ngcontent-%COMP%]{font-size:2rem}.goals-and-proposed-buttons[_ngcontent-%COMP%]{background-color:#000;--goals-and-proposed-buttons-height:3rem;height:var(--goals-and-proposed-buttons-height);position:sticky;top:var(--user-nav-height);display:flex;gap:2rem;padding:1rem 0;z-index:2;margin-top:1rem}.goals-and-proposed-buttons[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{outline:1px solid var(--border-primary-color);border-radius:var(--border-radius);font-size:1.5rem;padding:.5rem}.active[_ngcontent-%COMP%]{box-shadow:var(--active-button-box-shadow)}.clipboard-image[_ngcontent-%COMP%]{margin-left:5ch;filter:invert(1);transform:scale(1.3);transition:transform .2s ease-in-out}.clipboard-image[_ngcontent-%COMP%]:active{transform:scale(1.2);filter:brightness(0) saturate(100%) invert(59%) sepia(74%) saturate(2637%) hue-rotate(77deg) brightness(113%) contrast(126%)}app-goal-list[_ngcontent-%COMP%]{height:var(--total-height);margin-top:2rem;z-index:1;position:relative}.link-copied[_ngcontent-%COMP%]{margin-left:1rem;font-size:1.5rem}.buttons-and-list-container[_ngcontent-%COMP%]{position:relative;z-index:1}"]}),n})();const v={setList:function M(n,l="",t){if(!t)return[];const s=t?.game?.players?.find(c=>c.id===l);let p=[],b=[],_=[];return"proposed"===n?(_=(t.game?.proposedGoals.filter(d=>d.proposedBy===s?.name)).map(d=>d.goal),_):(p=s?.goals||[],_=t.game?.goals||[],b=p.map(c=>_.find(d=>d.id===c)).filter(c=>!!c),b)}}}}]);