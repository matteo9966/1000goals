"use strict";(self.webpackChunk_1000goals_frontend=self.webpackChunk_1000goals_frontend||[]).push([[201],{6201:(x,c,r)=>{r.r(c),r.d(c,{DashboardComponent:()=>C});var s=r(4755),e=r(1902);let p=(()=>{class n{constructor(){this.animationDuration=1,this.percentage=0,this.animatedPercentage=0,this.percentageAnimationSplit=0,this.reqFrameID=null,this.renderer=(0,e.f3M)(e.Qsj),this.elementRef=(0,e.f3M)(e.SBq)}ngOnInit(){this.calculateSplits(),this.repeatAnimation()}calculateSplits(){this.percentageAnimationSplit=this.animationDuration<=0?this.percentage:this.percentage/(60*this.animationDuration)}repeatAnimation(){this.animatedPercentage+=this.percentageAnimationSplit,this.changePercentage(Math.round(this.animatedPercentage)),this.animatedPercentage>=this.percentage&&this.reqFrameID?cancelAnimationFrame(this.reqFrameID):this.reqFrameID=requestAnimationFrame(this.repeatAnimation.bind(this))}changePercentage(t){this.renderer.setStyle(this.elementRef.nativeElement,"--p",t,2)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,selectors:[["","appAnimatePie",""]],hostVars:4,hostBindings:function(t,a){2&t&&e.Udp("--p",a.stylePercentage)("--c",a.color)},inputs:{animationDuration:"animationDuration",percentage:"percentage"},standalone:!0}),n})(),l=(()=>{class n{constructor(){this.renderer=(0,e.f3M)(e.Qsj),this.pieColor="#025a82e0",this.percentage="0"}ngAfterViewInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-pie-chart"]],inputs:{pieColor:"pieColor",percentage:"percentage"},standalone:!0,features:[e.jDz],decls:2,vars:4,consts:[["appAnimatePie","",1,"pie",2,"--p","0","--b","40px","--c","#025a82e0",3,"percentage"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e._uU(1),e.qZA()),2&t&&(e.Udp("--c",a.pieColor),e.Q6J("percentage",+a.percentage),e.xp6(1),e.hij(" ",a.percentage,"%\n"))},dependencies:[s.ez,p],styles:['[_nghost-%COMP%]{width:100%;height:100%;display:flex;background:rgba(255,255,255,0);box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(6.9px);-webkit-backdrop-filter:blur(6.9px);box-shadow:inset 0 0 15px 1px #cacacac7;border:1px solid rgba(202,202,202,.24);border-radius:var(--border-radius)}.pie[_ngcontent-%COMP%]{margin:auto;display:block;width:90%;aspect-ratio:1;place-content:center;position:relative;display:flex;justify-content:center;align-items:center;font-size:5rem}@media only screen and (orientation: landscape) and (max-width: 920px){.pie[_ngcontent-%COMP%]{font-size:2rem}}.pie[_ngcontent-%COMP%]:before{width:100%;height:100%;display:block;content:"";position:absolute;border-radius:50%;inset:0;background:conic-gradient(var(--c) calc(var(--p) * 1%),rgba(0,0,0,0) 0);mask:radial-gradient(farthest-side,rgba(0,0,0,0) calc(99% - var(--b)),#000 calc(100% - var(--b)));-webkit-mask:radial-gradient(farthest-side,rgba(0,0,0,0) calc(99% - var(--b)),#000 calc(100% - var(--b)))}']}),n})();function d(n,i){if(1&n&&(e.TgZ(0,"span",8)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.points)}}function g(n,i){if(1&n&&(e.TgZ(0,"li",5)(1,"span",6),e._uU(2),e.qZA(),e.YNc(3,d,3,1,"span",7),e.qZA()),2&n){const t=i.$implicit;e.xp6(2),e.Oqu(t.detail),e.xp6(1),e.Q6J("ngIf",null==t?null:t.points)}}function m(n,i){if(1&n&&(e.TgZ(0,"ul",2)(1,"div",3),e.YNc(2,g,4,2,"li",4),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.list)}}function u(n,i){1&n&&(e.TgZ(0,"p"),e._uU(1,"You still didn't reach any goals"),e.qZA())}let h=(()=>{class n{constructor(){this.list=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-goals-list-container"]],inputs:{list:"list"},standalone:!0,features:[e.jDz],decls:3,vars:2,consts:[["class","list-container",4,"ngIf","ngIfElse"],["nogoals",""],[1,"list-container"],[1,"list-items-container"],["class","goal-item",4,"ngFor","ngForOf"],[1,"goal-item"],[1,"goal-details"],["class","points-container",4,"ngIf"],[1,"points-container"]],template:function(t,a){if(1&t&&(e.YNc(0,m,3,1,"ul",0),e.YNc(1,u,2,0,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",a.list&&a.list.length>0)("ngIfElse",o)}},dependencies:[s.ez,s.sg,s.O5]}),n})();var f=r(3071);const b=function(){return[]};let C=(()=>{class n{constructor(t){this.userservice=t}ngOnInit(){this.userservice.getUserData()}get numberOfReachedGoals(){return this.userservice.getUserData()?.user?.goals?.length||0}get points(){return this.userservice.getUserData()?.user.goals.map(a=>this.userservice.getUserData()?.game?.goals?.find(_=>_?.id===a)?.points).filter(a=>!!a).reduce((a,o)=>a+o,0)}get percentage(){return this.points?Math.round(100*Math.min(this.points/1e3*100,100)/100).toString():"0"}get reachedGoals(){return this.userservice.getUserData()?.user.goals.map(t=>this.userservice.getUserData()?.game?.goals?.find(a=>a.id===t)).filter(t=>!!t?.name).map(t=>({detail:t.name,points:t?.points}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(f.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard"]],standalone:!0,features:[e.jDz],decls:13,vars:4,consts:[[1,"dashboard-body"],[1,"stats-section"],[1,"pie-chart-container"],[3,"percentage"],[1,"score-container"],[1,"title"],[1,"score-num"],[1,"reached-goals-container"],[1,"reached-goals-title"],[3,"list"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"section",1)(2,"div",2),e._UZ(3,"app-pie-chart",3),e.qZA(),e.TgZ(4,"div",4)(5,"span",5),e._uU(6,"Score"),e.qZA(),e.TgZ(7,"span",6),e._uU(8),e.qZA()()(),e.TgZ(9,"section",7)(10,"p",8),e._uU(11,"Reached goals"),e.qZA(),e._UZ(12,"app-goals-list-container",9),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("percentage",a.percentage),e.xp6(5),e.Oqu(a.points),e.xp6(4),e.Q6J("list",a.reachedGoals||e.DdM(3,b)))},dependencies:[s.ez,l,h],styles:['.dashboard-body[_ngcontent-%COMP%]{padding-top:4rem;padding-bottom:6rem}@media only screen and (orientation: landscape) and (max-width: 920px){.dashboard-body[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:2rem}}.stats-section[_ngcontent-%COMP%]{display:grid;gap:1.5rem;grid-template-areas:"pie pie score" "pie pie .";grid-template-columns:1fr 1fr 1fr;grid-template-rows:1fr 1fr;width:100%}@media only screen and (orientation: landscape) and (max-width: 920px){.stats-section[_ngcontent-%COMP%]{grid-template-areas:". pie  score .";grid-template-columns:1fr 1fr 1fr 1fr;grid-template-rows:1fr}}.title[_ngcontent-%COMP%]{font-size:2rem;padding-bottom:2rem}.pie-chart-container[_ngcontent-%COMP%]{grid-area:pie;aspect-ratio:1;display:flex;justify-content:center;align-items:center}.score-container[_ngcontent-%COMP%]{justify-content:space-around;grid-area:score;display:flex;flex-direction:column;gap:5px;align-items:center;background:rgba(255,255,255,0);box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(6.9px);-webkit-backdrop-filter:blur(6.9px);box-shadow:inset 0 0 15px 1px #cacacac7;border:1px solid rgba(202,202,202,.24);border-radius:var(--border-radius)}.score-container[_ngcontent-%COMP%]   .score-num[_ngcontent-%COMP%]{font-size:3rem}.score-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem}.reached-goals-container[_ngcontent-%COMP%]{margin-top:1.5rem}.reached-goals-title[_ngcontent-%COMP%]{font-size:1.5rem}'],data:{animation:[]}}),n})()}}]);